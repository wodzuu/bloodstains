{"version":3,"sources":["webpack:///webpack/bootstrap 02bfeb0b81478cbbe5c4","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"./src/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 02bfeb0b81478cbbe5c4","interface Context2D {\n    beginPath: ()=>void;\n    clearRect: (x:number, y:number, w:number, h:number)=>void;\n    rect: (x:number, y:number, w:number, h:number)=>void;\n    fillStyle: string;\n    fill: ()=>void;\n}\n\ninterface Canvas {\n    width: number;\n    height: number;\n}\n\nvar canvas = <HTMLCanvasElement> document.getElementById(\"canvas\");\nvar ctx = <Context2D> canvas.getContext(\"2d\");\n\nfunction animate(objects: Array<WorldObject>, timeDelta: number) {\n  var gravity = new Force(new Vector(0, 0.000981));\n  var fixed: Array<FixedWorldObject> = <Array<FixedWorldObject>> objects.filter(function(object: WorldObject) { return object instanceof FixedWorldObject});\n  objects.forEach(function(o) {\n    o.applyForce(gravity, timeDelta);\n    o.detectCollision(fixed, function(collider: FixedWorldObject) {\n      o.onCollisionStart(collider);\n      //objects.push(new BloodCell(o.position, 500));\n    });\n    o.update(timeDelta);\n  });\n}\n\nfunction draw(objects: Array<WorldObject>, ctx: Context2D, canvas: Canvas) {\n  var simplePainter = new SimplePainter(ctx);\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  objects.forEach(function(e: WorldObject) {\n    e.acceptPainter(simplePainter);\n  })\n}\n\ninterface Painter {\n    paintBloodCell(object: BloodCell): void;\n    paintFloor(object: Floor): void;\n}\n\nclass SimplePainter implements Painter{\n  private _ctx: Context2D;\n  constructor(ctx: Context2D){\n  \tthis._ctx = ctx;\n  }\n  paintBloodCell(object: BloodCell) {\n  \tthis._ctx.beginPath();\n    this._ctx.rect(object.position.x, object.position.y, 1, 1);\n    this._ctx.fillStyle = 'black';\n    this._ctx.fill();\n  }\n  paintFloor(object: Floor){\n  \tthis._ctx.beginPath();\n    this._ctx.rect(object.position.x, object.position.y, object.size.x, object.size.y);\n    this._ctx.fillStyle = '#f0f0f0';\n    this._ctx.fill();\n  }\n}\n\nclass Vector {\n  private _x: number;\n  private _y: number;\n  constructor(x: number, y: number) {\n    this._x = x;\n    this._y = y;\n  }\n  get x(): number {\n    return this._x;\n  }\n  get y(): number {\n    return this._y;\n  }\n  set x(val: number) {\n    this._x = val;\n  }\n  set y(val: number) {\n    this._y = val;\n  }\n}\n\nclass Force {\n\tprivate _vector: Vector;\n\tconstructor(vector: Vector){\n  \tthis._vector = vector;\n  }\n  apply(object: WorldObject, time: number){\n  \tif(object.weight) {\n    \tobject.speed.x += this._vector.x * time / object.weight;\n      object.speed.y += this._vector.y * time / object.weight;\n    }\n  }\n}\n\nabstract class WorldObject {\n  protected _enabled: boolean = true;\n  protected _position: Vector;\n  private _weight: number;\n  private _speed: Vector = new Vector(0,0);\n\tconstructor(position: Vector, weight: number){\n  \tthis._position = position;\n    this._weight = weight;\n  }\n  get enabled() { return this._enabled; }\n  set enabled(val) { this._enabled = val; }\n  get position() { return this._position; }\n  get speed() { return this._speed; }\n  get weight() { return this._weight; }\n  applyForce(force: Force, time: number){\n  \tforce.apply(this, time);\n  }\n  abstract acceptPainter(painter: Painter): void;\n  abstract detectCollision(objects: Array<FixedWorldObject>, callback: (object:FixedWorldObject)=>void): void;\n  update(time: number){\n    if(this._enabled){\n  \t  this._position.x += this._speed.x * time;\n      this._position.y += this._speed.y * time;\n    }\n  }\n  onCollisionStart(object: FixedWorldObject) {  }\n  onCollisionEnd(object: FixedWorldObject) {  }\n}\n\nclass BloodCell extends WorldObject{\n  acceptPainter(painter: Painter){\n    if(this.enabled){\n  \t  painter.paintBloodCell(this);\n    }\n  }\n  detectCollision(objects: Array<FixedWorldObject>, callback: (object:FixedWorldObject)=>void){\n    var that = this;\n    if(this.enabled){\n      objects.forEach(function(object: FixedWorldObject){\n        if(object.boundingBox.contains(that._position)){\n          callback(object);\n        }\n      });\n    }\n  }\n  onCollisionStart(object: FixedWorldObject) {\n    this._enabled = false;\n    TheGameState.newObject(new BloodCell(this._position, 50));\n  }\n}\n\nabstract class FixedWorldObject extends WorldObject{\n  private _boundingBox: Rectangle;\n  constructor(position: Vector, boundingBox: Rectangle){\n  \tsuper(position, 0);\n    this._boundingBox = boundingBox;\n  }\n  get boundingBox() { return this._boundingBox; }\n  applyForce(force: Force, time: number){}\n  update(time: number){}\n  detectCollision(objects: Array<FixedWorldObject>, callback: (object:FixedWorldObject)=>void){}\n}\n\nclass Floor extends FixedWorldObject{\n  private _size: Vector;\n  constructor(position: Vector, size: Vector){\n  \tsuper(position, new Rectangle(position, size));\n    this._size = size;\n  }\n  get size() { return this._size }\n  applyForce(force: Force, time: number) { }\n    acceptPainter(painter: Painter){\n  \tpainter.paintFloor(this);\n  }\n  update(time: number) { }\n}\n\nclass Rectangle {\n  private _position: Vector;\n  private _size: Vector;\n  constructor(position: Vector, size: Vector) {    \n    this._position = position;\n    this._size = size;\n  }\n  \n  contains(point: Vector){\n    return point.x >= this._position.x && point.x <= (this._position.x+this._size.x) &&\n      point.y >= this._position.y && point.y <= (this._position.y+this._size.y)\n  }\n}\n\nfunction nextFrame(objects: Array<WorldObject>, ctx: Context2D, canvas: Canvas, lastTime: number) {\n  var currentTime = new Date().getTime();\n  var timeDelta = currentTime - lastTime;\n\n  animate(objects, timeDelta);\n  draw(objects, ctx, canvas);\n\n  window.requestAnimationFrame(function() {\n    nextFrame(objects, ctx, canvas, currentTime);\n  });\n}\n\nclass GameState{\n  private _worldObjects: Array<WorldObject> = [];\n  get worldObjects() { return this._worldObjects; }\n  newObject(object: WorldObject) {\n    this._worldObjects.push(object);\n  }\n}\n\nconst TheGameState: GameState = new GameState();\n\nfor (var i = 0; i < 1000; i++) {\n  //TheGameState.newObject(new BloodCell(new Vector(Math.random() * 640, Math.random() * 360), 5));\n}\n\nTheGameState.newObject(new Floor(new Vector(0, 300), new Vector(300, 5)))\n\ncanvas.onclick = function(e) {\n    var cx = e.offsetX;\n    var cy = e.offsetY;\n    for (var i = 0; i < 100; i++) {\n        var cell = new BloodCell(new Vector(cx,cy), 5)\n        cell.applyForce(new Force(new Vector(Math.random()*4-2,Math.random()*4-2)), 1);\n        TheGameState.newObject(cell);\n    }\n    /*TheGameState.worldObjects.forEach(function(wo) {\n      var distance = Math.sqrt(Math.pow(cx - wo.position.x, 2) + Math.pow(cy - wo.position.y, 2));\n      var force = 10 / distance; //Math.max(0, 200-distance)/1000  ;\n\n      var dx = (cx - wo.position.x);\n      var dy = (cy - wo.position.y);\n\n      var nx = dx / distance;\n      var ny = dy / distance;\n\n      var fx = -force * nx;\n      var fy = -force * ny;\n      wo.applyForce(new Force(new Vector(fx, fy)), 1);\n    })*/\n  }\n  //worldObjects[0].acceptForce(new Force([1,-1]), 1);\n\nnextFrame(TheGameState.worldObjects, ctx, canvas, new Date().getTime());\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}